<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="description" content="Homework 6 - Part 2: Character Search">
    <title>Homework 6 - Part 2: Character Search</title>
    <link rel="stylesheet" href="styles.css">
    <script>
        function searchCharacter() {
            const textInput = document.getElementById("textInput").value;
            const charInput = document.getElementById("charInput").value.trim();
            const output = document.getElementById("output");

            // Validation
            if (!charInput || charInput.length !== 1) {
                output.textContent = "Please enter a single character to search.";
                output.style.color = "red";
                return;
            }

            const charToSearch = charInput.toLowerCase();
            const textLower = textInput.toLowerCase();
            let count = 0;
            // Count occurrences
            for (let i = 0; i < textLower.length; i++) {
                if (textLower.charAt(i) === charToSearch) {
                    count++;
                }
            }
            // Show result 
            if (count > 0) {
                output.textContent = `The character "${charInput}" appears ${count} time(s) in the text.`;
                output.style.color = "green";
            } else {
                const newWindow = window.open("", "_blank", "width=300,height=100");
                newWindow.document.write(`
                    <p>Search character "${charInput}" not found in the content you typed.</p>
                    <button onclick="window.close()">Close</button>
                `);
            }
        }

        function clearForm() {
            document.getElementById("searchForm").reset();
            document.getElementById("output").textContent = "";
        }
    </script>
</head>
<body>
    <header>
        <h1>Homework 6 - Part 2: Character Search</h1>
    </header>

    <section>
        <form id="searchForm">
            <label for="textInput">Enter your text below:</label><br>
            <textarea id="textInput" rows="6" cols="40" placeholder="Type your content here..."></textarea><br><br>

            <label for="charInput">Enter a character to search:</label><br>
            <input type="text" id="charInput" maxlength="1" placeholder="e.g., a"><br><br>

            <button type="button" onclick="searchCharacter()">Submit</button>
            <button type="button" onclick="clearForm()">Clear</button>
        </form>

        <div id="output"></div>
    </section>

    <p><a href="hw6.html">Back to Homework 6 Main Page</a></p>

    <footer>
        <p>&copy; 2024 JavaScript/Ajax Course at CSM</p>
    </footer>
</body>
</html>